{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import { Search, Filter } from 'lucide-react';\n// import { getProducts } from '../services/api';\n// import ProductCard from '../components/ProductCard';\n// import Filters from '../components/Filters';\n// import ChatBot from '../components/ChatBot';\n\n// const Shop = () => {\n//   const [products, setProducts] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [searchQuery, setSearchQuery] = useState('');\n//   const [showFilters, setShowFilters] = useState(false);\n//   const [filters, setFilters] = useState({\n//     category: 'all',\n//     size: 'all',\n//     minPrice: 0,\n//     maxPrice: 500,\n//     sort: ''\n//   });\n\n//   useEffect(() => {\n//     fetchProducts();\n//     // eslint-disable-next-line react-hooks/exhaustive-deps\n//   }, [filters]);\n\n//   const fetchProducts = async () => {\n//     setLoading(true);\n//     try {\n//       const params = {\n//         ...(filters.category !== 'all' && { category: filters.category }),\n//         ...(filters.size !== 'all' && { size: filters.size }),\n//         minPrice: filters.minPrice,\n//         maxPrice: filters.maxPrice,\n//         ...(filters.sort && { sort: filters.sort }),\n//         ...(searchQuery && { search: searchQuery })\n//       };\n\n//       const { data } = await getProducts(params);\n\n//       // Backend returns { success: true, data: [...] }\n//       const safeProducts = data?.data ?? [];\n//       setProducts(safeProducts);\n//     } catch (error) {\n//       console.error('Error fetching products:', error);\n//       setProducts([]); // fallback if API fails\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const handleSearch = (e) => {\n//     e.preventDefault();\n//     fetchProducts();\n//   };\n\n//   return (\n//     <div className=\"shop-page space-y-8\">\n//       <h1 className=\"text-3xl font-bold text-center\">Shop All Dresses</h1>\n\n//       <div className=\"flex flex-col md:flex-row items-center gap-4\">\n//         <form onSubmit={handleSearch} className=\"relative flex-1\">\n//           <Search className=\"absolute left-3 top-3 text-gray-400\" />\n//           <input\n//             type=\"text\"\n//             placeholder=\"Search by name, color, or style...\"\n//             value={searchQuery}\n//             onChange={(e) => setSearchQuery(e.target.value)}\n//             className=\"w-full pl-12 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none\"\n//           />\n//         </form>\n\n//         <button\n//           type=\"button\"\n//           onClick={() => setShowFilters(!showFilters)}\n//           className=\"btn-secondary flex items-center gap-2 px-4 py-2\"\n//         >\n//           <Filter size={18} />\n//           Filters\n//         </button>\n//       </div>\n\n//       {showFilters && (\n//         <Filters\n//           filters={filters}\n//           setFilters={setFilters}\n//           onClose={() => setShowFilters(false)}\n//         />\n//       )}\n\n//       {loading ? (\n//         <p className=\"text-center text-gray-500\">Loading dresses...</p>\n//       ) : products.length > 0 ? (\n//         <>\n//           <p className=\"text-gray-600\">{products.length} dresses found</p>\n//           <div className=\"grid md:grid-cols-3 gap-6 mt-4\">\n//             {products.map((product) => (\n//               <ProductCard key={product._id} product={product} />\n//             ))}\n//           </div>\n//         </>\n//       ) : (\n//         <p className=\"text-center text-gray-500\">\n//           No dresses found. <br />\n//           Try adjusting your filters or search query.\n//         </p>\n//       )}\n\n//       <ChatBot />\n//     </div>\n//   );\n// };\n\n// export default Shop;","map":{"version":3,"names":[],"sources":["/Users/malith_bandara/Desktop/AI-Dress-Mart/frontend/src/pages/Shop.js"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\n// import { Search, Filter } from 'lucide-react';\n// import { getProducts } from '../services/api';\n// import ProductCard from '../components/ProductCard';\n// import Filters from '../components/Filters';\n// import ChatBot from '../components/ChatBot';\n\n// const Shop = () => {\n//   const [products, setProducts] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [searchQuery, setSearchQuery] = useState('');\n//   const [showFilters, setShowFilters] = useState(false);\n//   const [filters, setFilters] = useState({\n//     category: 'all',\n//     size: 'all',\n//     minPrice: 0,\n//     maxPrice: 500,\n//     sort: ''\n//   });\n\n//   useEffect(() => {\n//     fetchProducts();\n//     // eslint-disable-next-line react-hooks/exhaustive-deps\n//   }, [filters]);\n\n//   const fetchProducts = async () => {\n//     setLoading(true);\n//     try {\n//       const params = {\n//         ...(filters.category !== 'all' && { category: filters.category }),\n//         ...(filters.size !== 'all' && { size: filters.size }),\n//         minPrice: filters.minPrice,\n//         maxPrice: filters.maxPrice,\n//         ...(filters.sort && { sort: filters.sort }),\n//         ...(searchQuery && { search: searchQuery })\n//       };\n\n//       const { data } = await getProducts(params);\n\n//       // Backend returns { success: true, data: [...] }\n//       const safeProducts = data?.data ?? [];\n//       setProducts(safeProducts);\n//     } catch (error) {\n//       console.error('Error fetching products:', error);\n//       setProducts([]); // fallback if API fails\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const handleSearch = (e) => {\n//     e.preventDefault();\n//     fetchProducts();\n//   };\n\n//   return (\n//     <div className=\"shop-page space-y-8\">\n//       <h1 className=\"text-3xl font-bold text-center\">Shop All Dresses</h1>\n\n//       <div className=\"flex flex-col md:flex-row items-center gap-4\">\n//         <form onSubmit={handleSearch} className=\"relative flex-1\">\n//           <Search className=\"absolute left-3 top-3 text-gray-400\" />\n//           <input\n//             type=\"text\"\n//             placeholder=\"Search by name, color, or style...\"\n//             value={searchQuery}\n//             onChange={(e) => setSearchQuery(e.target.value)}\n//             className=\"w-full pl-12 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none\"\n//           />\n//         </form>\n\n//         <button\n//           type=\"button\"\n//           onClick={() => setShowFilters(!showFilters)}\n//           className=\"btn-secondary flex items-center gap-2 px-4 py-2\"\n//         >\n//           <Filter size={18} />\n//           Filters\n//         </button>\n//       </div>\n\n//       {showFilters && (\n//         <Filters\n//           filters={filters}\n//           setFilters={setFilters}\n//           onClose={() => setShowFilters(false)}\n//         />\n//       )}\n\n//       {loading ? (\n//         <p className=\"text-center text-gray-500\">Loading dresses...</p>\n//       ) : products.length > 0 ? (\n//         <>\n//           <p className=\"text-gray-600\">{products.length} dresses found</p>\n//           <div className=\"grid md:grid-cols-3 gap-6 mt-4\">\n//             {products.map((product) => (\n//               <ProductCard key={product._id} product={product} />\n//             ))}\n//           </div>\n//         </>\n//       ) : (\n//         <p className=\"text-center text-gray-500\">\n//           No dresses found. <br />\n//           Try adjusting your filters or search query.\n//         </p>\n//       )}\n\n//       <ChatBot />\n//     </div>\n//   );\n// };\n\n// export default Shop;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}