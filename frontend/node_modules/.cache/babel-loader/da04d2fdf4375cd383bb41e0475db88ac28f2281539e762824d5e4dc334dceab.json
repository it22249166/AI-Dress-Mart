{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{Sparkles,MessageCircle,TrendingUp}from'lucide-react';import{getProducts,getRecommendations}from'../services/api';import{useAuth}from'../context/AuthContext';import{useCart}from'../context/CartContext';import ProductCard from'../components/ProductCard';import ChatBot from'../components/ChatBot';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const navigate=useNavigate();const{user}=useAuth();const{cart}=useCart();const[featuredProducts,setFeaturedProducts]=useState([]);const[recommendations,setRecommendations]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchData();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[user,cart]);const fetchData=async()=>{try{// Fetch featured products\nconst{data:productsData}=await getProducts({sort:'rating'});setFeaturedProducts(productsData.data.filter(p=>p.isFeatured).slice(0,3));// Fetch AI recommendations if user is logged in\nif(user){try{const{data:recsData}=await getRecommendations({cartItems:cart,preferences:user.preferences});setRecommendations(recsData.data.slice(0,3));}catch(error){console.error('Error fetching recommendations:',error);}}else{// Show top-rated products for non-logged-in users\nsetRecommendations(productsData.data.slice(0,3));}}catch(error){console.error('Error fetching data:',error);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"home-page space-y-12\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"hero text-center py-12\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold\",children:\"Welcome to AI Dress Mart\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-600\",children:\"Your Personal AI Fashion Assistant\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/shop'),className:\"btn-primary text-lg mt-4 px-6 py-2\",children:\"Start Shopping with AI\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"features grid md:grid-cols-3 gap-6 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Sparkles,{className:\"mx-auto w-8 h-8 text-indigo-500\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"AI Recommendations\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Get personalized dress suggestions powered by advanced AI technology\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"mx-auto w-8 h-8 text-indigo-500\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"Fashion Assistant\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Chat with our AI stylist for instant fashion advice and tips\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"mx-auto w-8 h-8 text-indigo-500\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"Smart Search\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Find your perfect dress with intelligent filters and search\"})]})]}),recommendations.length>0&&/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:user?'AI Picks for You':'Top Rated Dresses'}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-3 gap-6\",children:recommendations.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product},product._id))})]}),featuredProducts.length>0&&/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Featured Collection\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-3 gap-6\",children:featuredProducts.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product},product._id))})]}),loading&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500\",children:\"Loading amazing dresses...\"}),/*#__PURE__*/_jsx(ChatBot,{})]});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Sparkles","MessageCircle","TrendingUp","getProducts","getRecommendations","useAuth","useCart","ProductCard","ChatBot","jsx","_jsx","jsxs","_jsxs","Home","navigate","user","cart","featuredProducts","setFeaturedProducts","recommendations","setRecommendations","loading","setLoading","fetchData","data","productsData","sort","filter","p","isFeatured","slice","recsData","cartItems","preferences","error","console","className","children","onClick","length","map","product","_id"],"sources":["/Users/malith_bandara/Desktop/AI-Dress-Mart/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Sparkles, MessageCircle, TrendingUp } from 'lucide-react';\nimport { getProducts, getRecommendations } from '../services/api';\nimport { useAuth } from '../context/AuthContext';\nimport { useCart } from '../context/CartContext';\nimport ProductCard from '../components/ProductCard';\nimport ChatBot from '../components/ChatBot';\n\nconst Home = () => {\n    const navigate = useNavigate();\n    const { user } = useAuth();\n    const { cart } = useCart();\n    const [featuredProducts, setFeaturedProducts] = useState([]);\n    const [recommendations, setRecommendations] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        fetchData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [user, cart]);\n\n    const fetchData = async () => {\n        try {\n            // Fetch featured products\n            const { data: productsData } = await getProducts({ sort: 'rating' });\n            setFeaturedProducts(productsData.data.filter(p => p.isFeatured).slice(0, 3));\n\n            // Fetch AI recommendations if user is logged in\n            if (user) {\n                try {\n                    const { data: recsData } = await getRecommendations({\n                        cartItems: cart,\n                        preferences: user.preferences,\n                    });\n                    setRecommendations(recsData.data.slice(0, 3));\n                } catch (error) {\n                    console.error('Error fetching recommendations:', error);\n                }\n            } else {\n                // Show top-rated products for non-logged-in users\n                setRecommendations(productsData.data.slice(0, 3));\n            }\n        } catch (error) {\n            console.error('Error fetching data:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"home-page space-y-12\">\n            {/* Hero Section */}\n            <section className=\"hero text-center py-12\">\n                <h1 className=\"text-4xl font-bold\">Welcome to AI Dress Mart</h1>\n                <p className=\"text-lg text-gray-600\">Your Personal AI Fashion Assistant</p>\n                <button\n                    onClick={() => navigate('/shop')}\n                    className=\"btn-primary text-lg mt-4 px-6 py-2\"\n                >\n                    Start Shopping with AI\n                </button>\n            </section>\n\n            {/* Features */}\n            <section className=\"features grid md:grid-cols-3 gap-6 text-center\">\n                <div>\n                    <Sparkles className=\"mx-auto w-8 h-8 text-indigo-500\" />\n                    <h3 className=\"font-semibold\">AI Recommendations</h3>\n                    <p>Get personalized dress suggestions powered by advanced AI technology</p>\n                </div>\n                <div>\n                    <MessageCircle className=\"mx-auto w-8 h-8 text-indigo-500\" />\n                    <h3 className=\"font-semibold\">Fashion Assistant</h3>\n                    <p>Chat with our AI stylist for instant fashion advice and tips</p>\n                </div>\n                <div>\n                    <TrendingUp className=\"mx-auto w-8 h-8 text-indigo-500\" />\n                    <h3 className=\"font-semibold\">Smart Search</h3>\n                    <p>Find your perfect dress with intelligent filters and search</p>\n                </div>\n            </section>\n\n            {/* AI Recommendations */}\n            {recommendations.length > 0 && (\n                <section>\n                    <h2 className=\"text-2xl font-bold mb-4\">\n                        {user ? 'AI Picks for You' : 'Top Rated Dresses'}\n                    </h2>\n                    <div className=\"grid md:grid-cols-3 gap-6\">\n                        {recommendations.map(product => (\n                            <ProductCard key={product._id} product={product} />\n                        ))}\n                    </div>\n                </section>\n            )}\n\n            {/* Featured Products */}\n            {featuredProducts.length > 0 && (\n                <section>\n                    <h2 className=\"text-2xl font-bold mb-4\">Featured Collection</h2>\n                    <div className=\"grid md:grid-cols-3 gap-6\">\n                        {featuredProducts.map(product => (\n                            <ProductCard key={product._id} product={product} />\n                        ))}\n                    </div>\n                </section>\n            )}\n\n            {/* Loading */}\n            {loading && (\n                <p className=\"text-center text-gray-500\">Loading amazing dresses...</p>\n            )}\n\n            {/* Chatbot */}\n            <ChatBot />\n        </div>\n    );\n};\n\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}