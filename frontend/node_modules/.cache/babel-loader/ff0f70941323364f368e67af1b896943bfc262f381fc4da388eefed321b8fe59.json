{"ast":null,"code":"var _jsxFileName = \"/Users/malith_bandara/Desktop/AI-Dress-Mart/frontend/src/components/ChatBot.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { MessageCircle, X, Send, Sparkles } from 'lucide-react';\nimport { chatWithAI } from '../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatBot = () => {\n  _s();\n  const [isOpen, setIsOpen] = useState(false);\n  const [messages, setMessages] = useState([{\n    text: \"Hi! I'm your AI fashion assistant. How can I help you find the perfect dress today?\",\n    sender: 'ai'\n  }]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const sendMessage = async () => {\n    if (!input.trim()) return;\n    const userMessage = {\n      text: input,\n      sender: 'user'\n    };\n    setMessages([...messages, userMessage]);\n    setInput('');\n    setLoading(true);\n    try {\n      const {\n        data\n      } = await chatWithAI(input);\n      setMessages(prev => [...prev, {\n        text: data.message,\n        sender: 'ai'\n      }]);\n    } catch (error) {\n      setMessages(prev => [...prev, {\n        text: 'Sorry, I encountered an error. Please try again!',\n        sender: 'ai'\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setIsOpen(!isOpen),\n      className: \"fixed bottom-6 right-6 bg-gradient-to-r from-purple-600 to-pink-600 text-white p-4 rounded-full shadow-2xl hover:scale-110 transition z-50\",\n      children: isOpen ? /*#__PURE__*/_jsxDEV(X, {\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 19\n      }, this) : /*#__PURE__*/_jsxDEV(MessageCircle, {\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-20 right-6 w-80 max-h-[500px] bg-white rounded-lg shadow-2xl flex flex-col overflow-hidden z-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-purple-600 text-white p-4 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"AI Fashion Assistant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsOpen(false),\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 p-4 overflow-y-auto space-y-2\",\n        children: [messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex ${message.sender === 'user' ? 'justify-end' : 'justify-start'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `max-w-[80%] p-2 rounded-lg ${message.sender === 'user' ? 'bg-purple-600 text-white rounded-br-none' : 'bg-gray-200 text-gray-800 rounded-bl-none'}`,\n            children: message.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 15\n        }, this)), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-500\",\n          children: \"AI is typing...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-gray-300 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: input,\n          onChange: e => setInput(e.target.value),\n          onKeyPress: handleKeyPress,\n          placeholder: \"Ask me anything...\",\n          className: \"flex-1 px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: sendMessage,\n          className: \"text-purple-600 hover:text-purple-800\",\n          children: /*#__PURE__*/_jsxDEV(Send, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(ChatBot, \"7Z7CaeE/Cjx8D62O4Y+S/y2tkIE=\");\n_c = ChatBot;\nexport default ChatBot;\nvar _c;\n$RefreshReg$(_c, \"ChatBot\");","map":{"version":3,"names":["React","useState","useRef","useEffect","MessageCircle","X","Send","Sparkles","chatWithAI","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatBot","_s","isOpen","setIsOpen","messages","setMessages","text","sender","input","setInput","loading","setLoading","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","sendMessage","trim","userMessage","data","prev","message","error","handleKeyPress","e","key","shiftKey","preventDefault","children","onClick","className","size","fileName","_jsxFileName","lineNumber","columnNumber","map","index","ref","type","value","onChange","target","onKeyPress","placeholder","_c","$RefreshReg$"],"sources":["/Users/malith_bandara/Desktop/AI-Dress-Mart/frontend/src/components/ChatBot.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { MessageCircle, X, Send, Sparkles } from 'lucide-react';\nimport { chatWithAI } from '../services/api';\n\nconst ChatBot = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [messages, setMessages] = useState([\n    {\n      text: \"Hi! I'm your AI fashion assistant. How can I help you find the perfect dress today?\",\n      sender: 'ai',\n    },\n  ]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const sendMessage = async () => {\n    if (!input.trim()) return;\n\n    const userMessage = { text: input, sender: 'user' };\n    setMessages([...messages, userMessage]);\n    setInput('');\n    setLoading(true);\n\n    try {\n      const { data } = await chatWithAI(input);\n      setMessages((prev) => [...prev, { text: data.message, sender: 'ai' }]);\n    } catch (error) {\n      setMessages((prev) => [\n        ...prev,\n        { text: 'Sorry, I encountered an error. Please try again!', sender: 'ai' },\n      ]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  return (\n    <>\n      {/* Chat Button */}\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"fixed bottom-6 right-6 bg-gradient-to-r from-purple-600 to-pink-600 text-white p-4 rounded-full shadow-2xl hover:scale-110 transition z-50\"\n      >\n        {isOpen ? <X size={24} /> : <MessageCircle size={24} />}\n      </button>\n\n      {/* Chat Window */}\n      {isOpen && (\n        <div className=\"fixed bottom-20 right-6 w-80 max-h-[500px] bg-white rounded-lg shadow-2xl flex flex-col overflow-hidden z-50\">\n          {/* Header */}\n          <div className=\"bg-purple-600 text-white p-4 flex justify-between items-center\">\n            <span>AI Fashion Assistant</span>\n            <button onClick={() => setIsOpen(false)}>\n              <X size={20} />\n            </button>\n          </div>\n\n          {/* Messages */}\n          <div className=\"flex-1 p-4 overflow-y-auto space-y-2\">\n            {messages.map((message, index) => (\n              <div\n                key={index}\n                className={`flex ${message.sender === 'user' ? 'justify-end' : 'justify-start'}`}\n              >\n                <div\n                  className={`max-w-[80%] p-2 rounded-lg ${\n                    message.sender === 'user'\n                      ? 'bg-purple-600 text-white rounded-br-none'\n                      : 'bg-gray-200 text-gray-800 rounded-bl-none'\n                  }`}\n                >\n                  {message.text}\n                </div>\n              </div>\n            ))}\n            {loading && <div className=\"text-gray-500\">AI is typing...</div>}\n            <div ref={messagesEndRef} />\n          </div>\n\n          {/* Input */}\n          <div className=\"p-4 border-t border-gray-300 flex items-center gap-2\">\n            <input\n              type=\"text\"\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              onKeyPress={handleKeyPress}\n              placeholder=\"Ask me anything...\"\n              className=\"flex-1 px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none\"\n            />\n            <button onClick={sendMessage} className=\"text-purple-600 hover:text-purple-800\">\n              <Send size={20} />\n            </button>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ChatBot;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}