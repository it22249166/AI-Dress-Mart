{"ast":null,"code":"import _objectSpread from\"/Users/malith_bandara/Desktop/AI-Dress-Mart/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Search,Filter}from'lucide-react';import{getProducts}from'../services/api';import ProductCard from'../components/ProductCard';import Filters from'../components/Filters';import ChatBot from'../components/ChatBot';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Shop=()=>{const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[searchQuery,setSearchQuery]=useState('');const[showFilters,setShowFilters]=useState(false);const[filters,setFilters]=useState({category:'all',size:'all',minPrice:0,maxPrice:500,sort:''});useEffect(()=>{fetchProducts();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[filters]);const fetchProducts=async()=>{setLoading(true);try{const params=_objectSpread(_objectSpread(_objectSpread(_objectSpread({},filters.category!=='all'&&{category:filters.category}),filters.size!=='all'&&{size:filters.size}),{},{minPrice:filters.minPrice,maxPrice:filters.maxPrice},filters.sort&&{sort:filters.sort}),searchQuery&&{search:searchQuery});const{data}=await getProducts(params);setProducts(data.data);}catch(error){console.error('Error fetching products:',error);}finally{setLoading(false);}};const handleSearch=e=>{e.preventDefault();fetchProducts();};return/*#__PURE__*/_jsxs(\"div\",{className:\"shop-page space-y-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-center\",children:\"Shop All Dresses\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,className:\"relative flex-1\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-3 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by name, color, or style...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"w-full pl-12 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setShowFilters(!showFilters),className:\"btn-secondary flex items-center gap-2 px-4 py-2\",children:[/*#__PURE__*/_jsx(Filter,{size:18}),\"Filters\"]})]}),showFilters&&/*#__PURE__*/_jsx(Filters,{filters:filters,setFilters:setFilters,onClose:()=>setShowFilters(false)}),loading?/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500\",children:\"Loading dresses...\"}):products.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[products.length,\" dresses found\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-3 gap-6 mt-4\",children:products.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product},product._id))})]}):/*#__PURE__*/_jsxs(\"p\",{className:\"text-center text-gray-500\",children:[\"No dresses found. \",/*#__PURE__*/_jsx(\"br\",{}),\"Try adjusting your filters or search query.\"]}),/*#__PURE__*/_jsx(ChatBot,{})]});};export default Shop;","map":{"version":3,"names":["React","useState","useEffect","Search","Filter","getProducts","ProductCard","Filters","ChatBot","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Shop","products","setProducts","loading","setLoading","searchQuery","setSearchQuery","showFilters","setShowFilters","filters","setFilters","category","size","minPrice","maxPrice","sort","fetchProducts","params","_objectSpread","search","data","error","console","handleSearch","e","preventDefault","className","children","onSubmit","type","placeholder","value","onChange","target","onClick","onClose","length","map","product","_id"],"sources":["/Users/malith_bandara/Desktop/AI-Dress-Mart/frontend/src/pages/Shop.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Search, Filter } from 'lucide-react';\nimport { getProducts } from '../services/api';\nimport ProductCard from '../components/ProductCard';\nimport Filters from '../components/Filters';\nimport ChatBot from '../components/ChatBot';\n\nconst Shop = () => {\n    const [products, setProducts] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [searchQuery, setSearchQuery] = useState('');\n    const [showFilters, setShowFilters] = useState(false);\n    const [filters, setFilters] = useState({\n        category: 'all',\n        size: 'all',\n        minPrice: 0,\n        maxPrice: 500,\n        sort: ''\n    });\n\n    useEffect(() => {\n        fetchProducts();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [filters]);\n\n    const fetchProducts = async () => {\n        setLoading(true);\n        try {\n            const params = {\n                ...(filters.category !== 'all' && { category: filters.category }),\n                ...(filters.size !== 'all' && { size: filters.size }),\n                minPrice: filters.minPrice,\n                maxPrice: filters.maxPrice,\n                ...(filters.sort && { sort: filters.sort }),\n                ...(searchQuery && { search: searchQuery })\n            };\n\n            const { data } = await getProducts(params);\n            setProducts(data.data);\n        } catch (error) {\n            console.error('Error fetching products:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleSearch = (e) => {\n        e.preventDefault();\n        fetchProducts();\n    };\n\n    return (\n        <div className=\"shop-page space-y-8\">\n            {/* Page Title */}\n            <h1 className=\"text-3xl font-bold text-center\">Shop All Dresses</h1>\n\n            {/* Search and Filter Bar */}\n            <div className=\"flex flex-col md:flex-row items-center gap-4\">\n                <form onSubmit={handleSearch} className=\"relative flex-1\">\n                    <Search className=\"absolute left-3 top-3 text-gray-400\" />\n                    <input\n                        type=\"text\"\n                        placeholder=\"Search by name, color, or style...\"\n                        value={searchQuery}\n                        onChange={(e) => setSearchQuery(e.target.value)}\n                        className=\"w-full pl-12 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none\"\n                    />\n                </form>\n\n                <button\n                    type=\"button\"\n                    onClick={() => setShowFilters(!showFilters)}\n                    className=\"btn-secondary flex items-center gap-2 px-4 py-2\"\n                >\n                    <Filter size={18} />\n                    Filters\n                </button>\n            </div>\n\n            {/* Filters Panel */}\n            {showFilters && (\n                <Filters\n                    filters={filters}\n                    setFilters={setFilters}\n                    onClose={() => setShowFilters(false)}\n                />\n            )}\n\n            {/* Products Grid */}\n            {loading ? (\n                <p className=\"text-center text-gray-500\">Loading dresses...</p>\n            ) : products.length > 0 ? (\n                <>\n                    <p className=\"text-gray-600\">{products.length} dresses found</p>\n                    <div className=\"grid md:grid-cols-3 gap-6 mt-4\">\n                        {products.map((product) => (\n                            <ProductCard key={product._id} product={product} />\n                        ))}\n                    </div>\n                </>\n            ) : (\n                <p className=\"text-center text-gray-500\">\n                    No dresses found. <br />\n                    Try adjusting your filters or search query.\n                </p>\n            )}\n\n            {/* Chatbot */}\n            <ChatBot />\n        </div>\n    );\n};\n\nexport default Shop;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}