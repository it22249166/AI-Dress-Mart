{"ast":null,"code":"var _jsxFileName = \"/Users/malith_bandara/Desktop/AI-Dress-Mart/frontend/src/pages/Checkout.js\",\n  _s = $RefreshSig$();\n// import React, { useState } from 'react';\n// import { useNavigate } from 'react-router-dom';\n// import { useCart } from '../context/CartContext';\n// import { useAuth } from '../context/AuthContext';\n// import { createOrder } from '../services/api';\n// import { toast } from 'react-toastify';\n\n// const Checkout = () => {\n//     const navigate = useNavigate();\n//     const { cart, getTotal, clearCart } = useCart();\n//     const { user } = useAuth();\n\n//     const [formData, setFormData] = useState({\n//         street: '',\n//         city: '',\n//         state: '',\n//         zipCode: '',\n//         country: '',\n//         paymentMethod: 'card',\n//     });\n\n//     const [loading, setLoading] = useState(false);\n\n//     const handleChange = (e) => {\n//         setFormData({ ...formData, [e.target.name]: e.target.value });\n//     };\n\n//     const handleSubmit = async (e) => {\n//         e.preventDefault();\n\n//         if (!user) {\n//             toast.error('Please login to place an order');\n//             navigate('/login');\n//             return;\n//         }\n\n//         if (cart.length === 0) {\n//             toast.error('Your cart is empty');\n//             navigate('/cart');\n//             return;\n//         }\n\n//         setLoading(true);\n\n//         try {\n//             const subtotal = getTotal();\n//             const shipping = subtotal > 100 ? 0 : 10;\n//             const tax = subtotal * 0.1;\n//             const total = subtotal + shipping + tax;\n\n//             const orderData = {\n//                 orderItems: cart.map((item) => ({\n//                     product: item._id,\n//                     name: item.name,\n//                     quantity: item.quantity,\n//                     size: item.size,\n//                     price: item.price,\n//                     image: item.images?.[0]?.url || '',\n//                 })),\n//                 shippingAddress: {\n//                     street: formData.street,\n//                     city: formData.city,\n//                     state: formData.state,\n//                     zipCode: formData.zipCode,\n//                     country: formData.country,\n//                 },\n//                 paymentMethod: formData.paymentMethod,\n//                 itemsPrice: subtotal,\n//                 taxPrice: tax,\n//                 shippingPrice: shipping,\n//                 totalPrice: total,\n//             };\n\n//             await createOrder(orderData);\n//             toast.success('Order placed successfully!');\n//             clearCart();\n//             navigate('/profile');\n//         } catch (error) {\n//             toast.error(error.response?.data?.message || 'Failed to place order');\n//         } finally {\n//             setLoading(false);\n//         }\n//     };\n\n//     if (cart.length === 0) {\n//         navigate('/cart');\n//         return null;\n//     }\n\n//     return (\n//         <div className=\"checkout-page\">\n//             <h2>Checkout</h2>\n\n//             {/* Checkout Form */}\n//             <form onSubmit={handleSubmit} className=\"checkout-form\">\n//                 <h3>Shipping Information</h3>\n\n//                 <input\n//                     type=\"text\"\n//                     name=\"street\"\n//                     placeholder=\"Street Address\"\n//                     value={formData.street}\n//                     onChange={handleChange}\n//                     required\n//                 />\n//                 <input\n//                     type=\"text\"\n//                     name=\"city\"\n//                     placeholder=\"City\"\n//                     value={formData.city}\n//                     onChange={handleChange}\n//                     required\n//                 />\n//                 <input\n//                     type=\"text\"\n//                     name=\"state\"\n//                     placeholder=\"State\"\n//                     value={formData.state}\n//                     onChange={handleChange}\n//                     required\n//                 />\n//                 <input\n//                     type=\"text\"\n//                     name=\"zipCode\"\n//                     placeholder=\"ZIP Code\"\n//                     value={formData.zipCode}\n//                     onChange={handleChange}\n//                     required\n//                 />\n//                 <input\n//                     type=\"text\"\n//                     name=\"country\"\n//                     placeholder=\"Country\"\n//                     value={formData.country}\n//                     onChange={handleChange}\n//                     required\n//                 />\n\n//                 <h3>Payment Method</h3>\n//                 <select\n//                     name=\"paymentMethod\"\n//                     value={formData.paymentMethod}\n//                     onChange={handleChange}\n//                 >\n//                     <option value=\"card\">Credit / Debit Card</option>\n//                     <option value=\"paypal\">PayPal</option>\n//                     <option value=\"cod\">Cash on Delivery</option>\n//                 </select>\n\n//                 <button type=\"submit\" disabled={loading}>\n//                     {loading ? 'Placing Order...' : 'Place Order'}\n//                 </button>\n//             </form>\n\n//             {/* Order Summary */}\n//             <div className=\"order-summary\">\n//                 <h3>Order Summary</h3>\n//                 {cart.map((item) => (\n//                     <div key={item._id} className=\"order-item\">\n//                         <span role=\"img\" aria-label=\"dress\">ðŸ‘—</span> {item.name} <br />\n//                         Size: {item.size} Ã— {item.quantity}\n//                         <strong> ${(item.price * item.quantity).toFixed(2)}</strong>\n//                     </div>\n//                 ))}\n\n//                 <p>Subtotal: ${getTotal().toFixed(2)}</p>\n//                 <p>Shipping: {getTotal() > 100 ? 'FREE' : '$10.00'}</p>\n//                 <p>Tax: ${(getTotal() * 0.1).toFixed(2)}</p>\n//                 <h4>\n//                     Total: $\n//                     {(getTotal() * 1.1 + (getTotal() > 100 ? 0 : 10)).toFixed(2)}\n//                 </h4>\n//             </div>\n//         </div>\n//     );\n// };\n\n// export default Checkout;\n\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useCart } from '../context/CartContext';\nimport { useAuth } from '../context/AuthContext';\nimport { createOrder } from '../services/api';\nimport { toast } from 'react-toastify';\nimport { Truck, CreditCard, MapPin, Loader2, ShoppingBag } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Checkout = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    cart,\n    getTotal,\n    clearCart\n  } = useCart();\n  const {\n    user\n  } = useAuth();\n\n  // Calculate totals once\n  const subtotal = getTotal();\n  const shipping = subtotal > 100 ? 0 : 10;\n  const taxRate = 0.1;\n  const tax = subtotal * taxRate;\n  const finalTotal = subtotal + shipping + tax;\n  const [formData, setFormData] = useState({\n    street: '',\n    city: '',\n    state: '',\n    zipCode: '',\n    country: '',\n    paymentMethod: 'card'\n  });\n  const [loading, setLoading] = useState(false);\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    // ... (Submit logic remains the same)\n    if (!user) {\n      toast.error('Please login to place an order');\n      navigate('/login');\n      return;\n    }\n    if (cart.length === 0) {\n      toast.error('Your cart is empty');\n      navigate('/cart');\n      return;\n    }\n    setLoading(true);\n    try {\n      const orderData = {\n        orderItems: cart.map(item => {\n          var _item$images, _item$images$;\n          return {\n            product: item._id,\n            name: item.name,\n            quantity: item.quantity,\n            size: item.size,\n            price: item.price,\n            image: ((_item$images = item.images) === null || _item$images === void 0 ? void 0 : (_item$images$ = _item$images[0]) === null || _item$images$ === void 0 ? void 0 : _item$images$.url) || ''\n          };\n        }),\n        shippingAddress: {\n          street: formData.street,\n          city: formData.city,\n          state: formData.state,\n          zipCode: formData.zipCode,\n          country: formData.country\n        },\n        paymentMethod: formData.paymentMethod,\n        itemsPrice: subtotal,\n        taxPrice: tax,\n        shippingPrice: shipping,\n        totalPrice: finalTotal\n      };\n      await createOrder(orderData);\n      toast.success('Order placed successfully! Check your email for confirmation.');\n      clearCart();\n      navigate('/profile');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to place order. Please check your details.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (cart.length === 0) {\n    navigate('/cart');\n    return null;\n  }\n\n  // Input field component for cleaner forms\n  const InputField = ({\n    name,\n    placeholder,\n    value,\n    onChange,\n    type = \"text\"\n  }) => /*#__PURE__*/_jsxDEV(\"input\", {\n    type: type,\n    name: name,\n    placeholder: placeholder,\n    value: value,\n    onChange: onChange,\n    required: true,\n    className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition duration-200\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 277,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 py-12\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-4xl font-extrabold text-gray-900 mb-10 border-b pb-4\",\n        children: \"Secure Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"grid lg:grid-cols-3 gap-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2 space-y-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-6 sm:p-8 rounded-xl shadow-lg border border-gray-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                className: \"w-6 h-6 text-indigo-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 33\n              }, this), \" Shipping Information\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid sm:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(InputField, {\n                name: \"street\",\n                placeholder: \"Street Address\",\n                value: formData.street,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(InputField, {\n                name: \"city\",\n                placeholder: \"City\",\n                value: formData.city,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(InputField, {\n                name: \"state\",\n                placeholder: \"State / Province\",\n                value: formData.state,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(InputField, {\n                name: \"zipCode\",\n                placeholder: \"ZIP Code\",\n                value: formData.zipCode,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sm:col-span-2\",\n                children: /*#__PURE__*/_jsxDEV(InputField, {\n                  name: \"country\",\n                  placeholder: \"Country\",\n                  value: formData.country,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-6 sm:p-8 rounded-xl shadow-lg border border-gray-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(CreditCard, {\n                className: \"w-6 h-6 text-indigo-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 33\n              }, this), \" Payment Method\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: ['card', 'paypal', 'cod'].map(method => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer transition hover:bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  name: \"paymentMethod\",\n                  value: method,\n                  checked: formData.paymentMethod === method,\n                  onChange: handleChange,\n                  className: \"form-radio h-5 w-5 text-indigo-600 border-gray-300 focus:ring-indigo-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-3 text-lg font-medium text-gray-800 capitalize\",\n                  children: method === 'card' ? 'Credit / Debit Card' : method === 'cod' ? 'Cash on Delivery' : method\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 41\n                }, this)]\n              }, method, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: loading || cart.length === 0,\n            className: \"w-full btn-primary bg-green-600 hover:bg-green-700 text-white text-xl py-4 rounded-xl transition shadow-lg flex items-center justify-center gap-3\",\n            children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"w-5 h-5 animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 35\n              }, this), \" Placing Order...\"]\n            }, void 0, true) : `Pay $${finalTotal.toFixed(2)} & Place Order`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-xl shadow-2xl p-6 sm:p-8 sticky lg:top-8 border border-indigo-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold text-gray-900 mb-6 border-b pb-3 flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(ShoppingBag, {\n                className: \"w-5 h-5 text-pink-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 33\n              }, this), \" Your Order\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3 mb-6 max-h-60 overflow-y-auto pr-2\",\n              children: cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center text-sm border-b pb-2 last:border-b-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700\",\n                  children: [item.name, \" (Size: \", item.size, \") \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-500\",\n                    children: [\"\\xD7\", item.quantity]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 77\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold text-gray-900\",\n                  children: [\"$\", (item.price * item.quantity).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 41\n                }, this)]\n              }, item._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3 mb-6 border-t pt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-gray-700\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Subtotal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold\",\n                  children: [\"$\", subtotal.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-gray-700\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Shipping\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `font-bold ${shipping === 0 ? 'text-green-600' : 'text-gray-800'}`,\n                  children: shipping === 0 ? 'FREE' : `$${shipping.toFixed(2)}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-gray-700\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Tax (\", taxRate * 100, \"%)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold\",\n                  children: [\"$\", tax.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-2xl font-extrabold border-t pt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total Payable\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-indigo-600\",\n                children: [\"$\", finalTotal.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 290,\n    columnNumber: 9\n  }, this);\n};\n_s(Checkout, \"ax1uis+JLOmwE9qLCTjx/UaGfmM=\", false, function () {\n  return [useNavigate, useCart, useAuth];\n});\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["React","useState","useNavigate","useCart","useAuth","createOrder","toast","Truck","CreditCard","MapPin","Loader2","ShoppingBag","jsxDEV","_jsxDEV","Fragment","_Fragment","Checkout","_s","navigate","cart","getTotal","clearCart","user","subtotal","shipping","taxRate","tax","finalTotal","formData","setFormData","street","city","state","zipCode","country","paymentMethod","loading","setLoading","handleChange","e","target","name","value","handleSubmit","preventDefault","error","length","orderData","orderItems","map","item","_item$images","_item$images$","product","_id","quantity","size","price","image","images","url","shippingAddress","itemsPrice","taxPrice","shippingPrice","totalPrice","success","_error$response","_error$response$data","response","data","message","InputField","placeholder","onChange","type","required","className","fileName","_jsxFileName","lineNumber","columnNumber","children","onSubmit","method","checked","disabled","toFixed","_c","$RefreshReg$"],"sources":["/Users/malith_bandara/Desktop/AI-Dress-Mart/frontend/src/pages/Checkout.js"],"sourcesContent":["// import React, { useState } from 'react';\n// import { useNavigate } from 'react-router-dom';\n// import { useCart } from '../context/CartContext';\n// import { useAuth } from '../context/AuthContext';\n// import { createOrder } from '../services/api';\n// import { toast } from 'react-toastify';\n\n// const Checkout = () => {\n//     const navigate = useNavigate();\n//     const { cart, getTotal, clearCart } = useCart();\n//     const { user } = useAuth();\n\n//     const [formData, setFormData] = useState({\n//         street: '',\n//         city: '',\n//         state: '',\n//         zipCode: '',\n//         country: '',\n//         paymentMethod: 'card',\n//     });\n\n//     const [loading, setLoading] = useState(false);\n\n//     const handleChange = (e) => {\n//         setFormData({ ...formData, [e.target.name]: e.target.value });\n//     };\n\n//     const handleSubmit = async (e) => {\n//         e.preventDefault();\n\n//         if (!user) {\n//             toast.error('Please login to place an order');\n//             navigate('/login');\n//             return;\n//         }\n\n//         if (cart.length === 0) {\n//             toast.error('Your cart is empty');\n//             navigate('/cart');\n//             return;\n//         }\n\n//         setLoading(true);\n\n//         try {\n//             const subtotal = getTotal();\n//             const shipping = subtotal > 100 ? 0 : 10;\n//             const tax = subtotal * 0.1;\n//             const total = subtotal + shipping + tax;\n\n//             const orderData = {\n//                 orderItems: cart.map((item) => ({\n//                     product: item._id,\n//                     name: item.name,\n//                     quantity: item.quantity,\n//                     size: item.size,\n//                     price: item.price,\n//                     image: item.images?.[0]?.url || '',\n//                 })),\n//                 shippingAddress: {\n//                     street: formData.street,\n//                     city: formData.city,\n//                     state: formData.state,\n//                     zipCode: formData.zipCode,\n//                     country: formData.country,\n//                 },\n//                 paymentMethod: formData.paymentMethod,\n//                 itemsPrice: subtotal,\n//                 taxPrice: tax,\n//                 shippingPrice: shipping,\n//                 totalPrice: total,\n//             };\n\n//             await createOrder(orderData);\n//             toast.success('Order placed successfully!');\n//             clearCart();\n//             navigate('/profile');\n//         } catch (error) {\n//             toast.error(error.response?.data?.message || 'Failed to place order');\n//         } finally {\n//             setLoading(false);\n//         }\n//     };\n\n//     if (cart.length === 0) {\n//         navigate('/cart');\n//         return null;\n//     }\n\n//     return (\n//         <div className=\"checkout-page\">\n//             <h2>Checkout</h2>\n\n//             {/* Checkout Form */}\n//             <form onSubmit={handleSubmit} className=\"checkout-form\">\n//                 <h3>Shipping Information</h3>\n\n//                 <input\n//                     type=\"text\"\n//                     name=\"street\"\n//                     placeholder=\"Street Address\"\n//                     value={formData.street}\n//                     onChange={handleChange}\n//                     required\n//                 />\n//                 <input\n//                     type=\"text\"\n//                     name=\"city\"\n//                     placeholder=\"City\"\n//                     value={formData.city}\n//                     onChange={handleChange}\n//                     required\n//                 />\n//                 <input\n//                     type=\"text\"\n//                     name=\"state\"\n//                     placeholder=\"State\"\n//                     value={formData.state}\n//                     onChange={handleChange}\n//                     required\n//                 />\n//                 <input\n//                     type=\"text\"\n//                     name=\"zipCode\"\n//                     placeholder=\"ZIP Code\"\n//                     value={formData.zipCode}\n//                     onChange={handleChange}\n//                     required\n//                 />\n//                 <input\n//                     type=\"text\"\n//                     name=\"country\"\n//                     placeholder=\"Country\"\n//                     value={formData.country}\n//                     onChange={handleChange}\n//                     required\n//                 />\n\n//                 <h3>Payment Method</h3>\n//                 <select\n//                     name=\"paymentMethod\"\n//                     value={formData.paymentMethod}\n//                     onChange={handleChange}\n//                 >\n//                     <option value=\"card\">Credit / Debit Card</option>\n//                     <option value=\"paypal\">PayPal</option>\n//                     <option value=\"cod\">Cash on Delivery</option>\n//                 </select>\n\n//                 <button type=\"submit\" disabled={loading}>\n//                     {loading ? 'Placing Order...' : 'Place Order'}\n//                 </button>\n//             </form>\n\n//             {/* Order Summary */}\n//             <div className=\"order-summary\">\n//                 <h3>Order Summary</h3>\n//                 {cart.map((item) => (\n//                     <div key={item._id} className=\"order-item\">\n//                         <span role=\"img\" aria-label=\"dress\">ðŸ‘—</span> {item.name} <br />\n//                         Size: {item.size} Ã— {item.quantity}\n//                         <strong> ${(item.price * item.quantity).toFixed(2)}</strong>\n//                     </div>\n//                 ))}\n\n//                 <p>Subtotal: ${getTotal().toFixed(2)}</p>\n//                 <p>Shipping: {getTotal() > 100 ? 'FREE' : '$10.00'}</p>\n//                 <p>Tax: ${(getTotal() * 0.1).toFixed(2)}</p>\n//                 <h4>\n//                     Total: $\n//                     {(getTotal() * 1.1 + (getTotal() > 100 ? 0 : 10)).toFixed(2)}\n//                 </h4>\n//             </div>\n//         </div>\n//     );\n// };\n\n// export default Checkout;\n\n\n\n\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useCart } from '../context/CartContext';\nimport { useAuth } from '../context/AuthContext';\nimport { createOrder } from '../services/api';\nimport { toast } from 'react-toastify';\nimport { Truck, CreditCard, MapPin, Loader2, ShoppingBag } from 'lucide-react';\n\nconst Checkout = () => {\n    const navigate = useNavigate();\n    const { cart, getTotal, clearCart } = useCart();\n    const { user } = useAuth();\n\n    // Calculate totals once\n    const subtotal = getTotal();\n    const shipping = subtotal > 100 ? 0 : 10;\n    const taxRate = 0.1;\n    const tax = subtotal * taxRate;\n    const finalTotal = subtotal + shipping + tax;\n\n    const [formData, setFormData] = useState({\n        street: '',\n        city: '',\n        state: '',\n        zipCode: '',\n        country: '',\n        paymentMethod: 'card',\n    });\n\n    const [loading, setLoading] = useState(false);\n\n    const handleChange = (e) => {\n        setFormData({ ...formData, [e.target.name]: e.target.value });\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        // ... (Submit logic remains the same)\n        if (!user) {\n            toast.error('Please login to place an order');\n            navigate('/login');\n            return;\n        }\n\n        if (cart.length === 0) {\n            toast.error('Your cart is empty');\n            navigate('/cart');\n            return;\n        }\n\n        setLoading(true);\n\n        try {\n            const orderData = {\n                orderItems: cart.map((item) => ({\n                    product: item._id,\n                    name: item.name,\n                    quantity: item.quantity,\n                    size: item.size,\n                    price: item.price,\n                    image: item.images?.[0]?.url || '',\n                })),\n                shippingAddress: {\n                    street: formData.street,\n                    city: formData.city,\n                    state: formData.state,\n                    zipCode: formData.zipCode,\n                    country: formData.country,\n                },\n                paymentMethod: formData.paymentMethod,\n                itemsPrice: subtotal,\n                taxPrice: tax,\n                shippingPrice: shipping,\n                totalPrice: finalTotal,\n            };\n\n            await createOrder(orderData);\n            toast.success('Order placed successfully! Check your email for confirmation.');\n            clearCart();\n            navigate('/profile');\n        } catch (error) {\n            toast.error(error.response?.data?.message || 'Failed to place order. Please check your details.');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    if (cart.length === 0) {\n        navigate('/cart');\n        return null;\n    }\n\n    // Input field component for cleaner forms\n    const InputField = ({ name, placeholder, value, onChange, type = \"text\" }) => (\n        <input\n            type={type}\n            name={name}\n            placeholder={placeholder}\n            value={value}\n            onChange={onChange}\n            required\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition duration-200\"\n        />\n    );\n\n\n    return (\n        <div className=\"min-h-screen bg-gray-50 py-12\">\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n                <h1 className=\"text-4xl font-extrabold text-gray-900 mb-10 border-b pb-4\">\n                    Secure Checkout\n                </h1>\n\n                <form onSubmit={handleSubmit} className=\"grid lg:grid-cols-3 gap-10\">\n                    {/* Checkout Form - Shipping and Payment */}\n                    <div className=\"lg:col-span-2 space-y-8\">\n                        \n                        {/* Shipping Information */}\n                        <div className=\"bg-white p-6 sm:p-8 rounded-xl shadow-lg border border-gray-100\">\n                            <h2 className=\"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3\">\n                                <MapPin className='w-6 h-6 text-indigo-500' /> Shipping Information\n                            </h2>\n                            <div className=\"grid sm:grid-cols-2 gap-4\">\n                                <InputField name=\"street\" placeholder=\"Street Address\" value={formData.street} onChange={handleChange} />\n                                <InputField name=\"city\" placeholder=\"City\" value={formData.city} onChange={handleChange} />\n                                <InputField name=\"state\" placeholder=\"State / Province\" value={formData.state} onChange={handleChange} />\n                                <InputField name=\"zipCode\" placeholder=\"ZIP Code\" value={formData.zipCode} onChange={handleChange} />\n                                <div className='sm:col-span-2'>\n                                    <InputField name=\"country\" placeholder=\"Country\" value={formData.country} onChange={handleChange} />\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Payment Method */}\n                        <div className=\"bg-white p-6 sm:p-8 rounded-xl shadow-lg border border-gray-100\">\n                            <h2 className=\"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3\">\n                                <CreditCard className='w-6 h-6 text-indigo-500' /> Payment Method\n                            </h2>\n                            <div className=\"space-y-3\">\n                                {['card', 'paypal', 'cod'].map((method) => (\n                                    <label key={method} className=\"flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer transition hover:bg-gray-50\">\n                                        <input\n                                            type=\"radio\"\n                                            name=\"paymentMethod\"\n                                            value={method}\n                                            checked={formData.paymentMethod === method}\n                                            onChange={handleChange}\n                                            className=\"form-radio h-5 w-5 text-indigo-600 border-gray-300 focus:ring-indigo-500\"\n                                        />\n                                        <span className=\"ml-3 text-lg font-medium text-gray-800 capitalize\">\n                                            {method === 'card' ? 'Credit / Debit Card' : method === 'cod' ? 'Cash on Delivery' : method}\n                                        </span>\n                                    </label>\n                                ))}\n                            </div>\n                        </div>\n\n                        <button \n                            type=\"submit\" \n                            disabled={loading || cart.length === 0}\n                            className=\"w-full btn-primary bg-green-600 hover:bg-green-700 text-white text-xl py-4 rounded-xl transition shadow-lg flex items-center justify-center gap-3\"\n                        >\n                            {loading ? (\n                                <><Loader2 className=\"w-5 h-5 animate-spin\" /> Placing Order...</>\n                            ) : (\n                                `Pay $${finalTotal.toFixed(2)} & Place Order`\n                            )}\n                        </button>\n                    </div>\n\n                    {/* Order Summary */}\n                    <div className=\"lg:col-span-1\">\n                        <div className=\"bg-white rounded-xl shadow-2xl p-6 sm:p-8 sticky lg:top-8 border border-indigo-100\">\n                            <h2 className=\"text-2xl font-bold text-gray-900 mb-6 border-b pb-3 flex items-center gap-2\">\n                                <ShoppingBag className='w-5 h-5 text-pink-500' /> Your Order\n                            </h2>\n                            \n                            {/* Item List */}\n                            <div className=\"space-y-3 mb-6 max-h-60 overflow-y-auto pr-2\">\n                                {cart.map((item) => (\n                                    <div key={item._id} className=\"flex justify-between items-center text-sm border-b pb-2 last:border-b-0\">\n                                        <span className='text-gray-700'>\n                                            {item.name} (Size: {item.size}) <span className='text-gray-500'>Ã—{item.quantity}</span>\n                                        </span>\n                                        <span className=\"font-semibold text-gray-900\">\n                                            ${(item.price * item.quantity).toFixed(2)}\n                                        </span>\n                                    </div>\n                                ))}\n                            </div>\n\n                            {/* Totals */}\n                            <div className=\"space-y-3 mb-6 border-t pt-4\">\n                                <div className=\"flex justify-between text-gray-700\">\n                                    <span>Subtotal</span>\n                                    <span className=\"font-semibold\">${subtotal.toFixed(2)}</span>\n                                </div>\n                                <div className=\"flex justify-between text-gray-700\">\n                                    <span>Shipping</span>\n                                    <span className={`font-bold ${shipping === 0 ? 'text-green-600' : 'text-gray-800'}`}>\n                                        {shipping === 0 ? 'FREE' : `$${shipping.toFixed(2)}`}\n                                    </span>\n                                </div>\n                                <div className=\"flex justify-between text-gray-700\">\n                                    <span>Tax ({taxRate * 100}%)</span>\n                                    <span className=\"font-semibold\">${tax.toFixed(2)}</span>\n                                </div>\n                            </div>\n                            \n                            <div className=\"flex justify-between text-2xl font-extrabold border-t pt-4\">\n                                <span>Total Payable</span>\n                                <span className=\"text-indigo-600\">${finalTotal.toFixed(2)}</span>\n                            </div>\n\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default Checkout;"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAKA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,WAAW,QAAQ,iBAAiB;AAC7C,SAASC,KAAK,QAAQ,gBAAgB;AACtC,SAASC,KAAK,EAAEC,UAAU,EAAEC,MAAM,EAAEC,OAAO,EAAEC,WAAW,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE/E,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAMC,QAAQ,GAAGhB,WAAW,CAAC,CAAC;EA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}